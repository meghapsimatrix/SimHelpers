<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Helper Functions for Simulation Studies • simhelpers</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><!-- docsearch --><script src="docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Helper Functions for Simulation Studies">
<meta property="og:description" content="Calculates performance criteria measures and associated Monte Carlo standard errors for simulation results. Includes functions to help run simulation studies. Our derivation and explanation of formulas and our general simulation workflow is closely aligned with the approach described by Morris, White, and Crowther (2019) &lt;DOI: 10.1002/sim.8086&gt;. ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">simhelpers</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/MCSE.html">Simulation Performance Criteria and MCSE</a>
    </li>
    <li>
      <a href="articles/simulation_workflow.html">Simulation Workflow</a>
    </li>
    <li>
      <a href="articles/visualization.html">Presenting Results from Simulation Studies</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/meghapsimatrix/simhelpers">
    <span class="fab fa-github"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<div id="simhelpers" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#simhelpers" class="anchor" aria-hidden="true"></a>simhelpers</h1></div>
<!-- badges: start -->

<p>Monte Carlo simulations are computer experiments designed to study the performance of statistical methods under known data-generating conditions (Morris, White, &amp; Crowther, 2019). Methodologists use simulations to examine questions such as: (1) how does ordinary least squares regression perform if errors are heteroskedastic? (2) how does the presence of missing data affect treatment effect estimates from a propensity score analysis? (3) how does cluster robust variance estimation perform when the number of clusters is small? To answer such questions, we conduct experiments by simulating thousands of datasets based on pseudo-random sampling, applying statistical methods, and evaluating how well those statistical methods recover the true data-generating conditions (Morris et al., 2019).</p>
<p>The goal of <code>simhelpers</code> is to assist in running simulation studies. The main tools in the package consist of functions to calculate measures of estimator performance like bias, root mean squared error, rejection rates. The functions also calculate the associated Monte Carlo standard errors (MCSE) of the performance measures. These functions are divided into three major categories of performance criteria: absolute criteria, relative criteria, and criteria to evaluate hypothesis testing. The functions use the <a href="https://tidyeval.tidyverse.org/index.html" class="external-link"><code>tidyeval</code></a> principles, so that they play well with <a href="https://dplyr.tidyverse.org/index.html" class="external-link"><code>dplyr</code></a> and fit easily into a <code>%&gt;%</code>-centric workflow (Wickham et al., 2019).</p>
<p>In addition to the set of functions that calculates performance measures and MCSE, the package also includes a function, <code><a href="reference/create_skeleton.html">create_skeleton()</a></code>, that generates a skeleton outline for a simulation study. Another function, <code><a href="reference/evaluate_by_row.html">evaluate_by_row()</a></code>, runs the simulation for each combination of conditions row by row. This function uses <a href="https://davisvaughan.github.io/furrr/reference/future_map2.html" class="external-link"><code>future_pmap()</code></a> from the <a href="https://davisvaughan.github.io/furrr/" class="external-link"><code>furrr</code></a> package, making it easy to run the simulation in parallel (Vaughan &amp; Dancho, 2018). The package also includes several datasets that contain results from example simulation studies.</p>
<p><img src="reference/figures/workflow.png"></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor" aria-hidden="true"></a>Installation</h2>
<p>Install the latest release from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"simhelpers"</span><span class="op">)</span></code></pre></div>
<p>Install the development version from <a href="https://github.com/" class="external-link">GitHub</a>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"meghapsimatrix/simhelpers"</span><span class="op">)</span></code></pre></div>
</div>
<div id="related-work" class="section level2">
<h2 class="hasAnchor">
<a href="#related-work" class="anchor" aria-hidden="true"></a>Related Work</h2>
<p>Our explanation of MCSE formulas and our general simulation workflow is closely aligned with the approach described by Morris et al. (2019). We want to recognize several other R packages that offer functionality for conducting Monte Carlo simulation studies. In particular, the <a href="https://CRAN.R-project.org/package=rsimsum" class="external-link"><code>rsimsum</code></a> package (which has a lovely name that makes me hungry) also calculates Monte Carlo standard errors (Gasparini, 2018). The <a href="https://CRAN.R-project.org/package=SimDesign" class="external-link"><code>SimDesign</code></a> package implements a generate-analyze-summarize model for writing simulations; it also includes tools for error handling and parallel computing (Chalmers, 2019).</p>
<p>In contrast to the two packages mentioned above, our package uses <a href="https://tidyeval.tidyverse.org/index.html" class="external-link"><code>tidyeval</code></a> and outputs tibbles, which can then easily be used with <a href="https://dplyr.tidyverse.org/index.html" class="external-link"><code>dplyr</code></a>, <a href="https://tidyr.tidyverse.org/" class="external-link"><code>tidyr</code></a> and <a href="https://purrr.tidyverse.org/" class="external-link"><code>purrr</code></a> syntax (Wickham et al., 2019). The functions that calculate MCSEs are easy to run on grouped data. For parallel computing, we use the <a href="https://davisvaughan.github.io/furrr/" class="external-link"><code>furrr</code></a> and <a href="https://rstudio.github.io/promises/articles/futures.html" class="external-link"><code>future</code></a> packages (Bengtsson, 2020; Vaughan &amp; Dancho, 2018). Moreover, in contrast to the <code>rsimsum</code> and <code>SimDesign</code> packages, <code>simhelpers</code> provides jack-knife MCSE for variance estimators. It also provides jack-knife MCSE estimates for root mean squared error.</p>
<p>Another related project is <a href="https://declaredesign.org/" class="external-link"><code>DeclareDesign</code></a>, a suite of packages that allow users to declare and diagnose research designs, fabricate mock data, and explore tradeoffs between different designs (Blair et al., 2019). This project follows a similar model for how simulation studies are instantiated, but it uses a higher-level API, which is tailored for simulating certain specific types of research designs. In contrast, our package is a simpler set of general-purpose utility functions.</p>
<p>Other packages that have similar aims to <code>simhelpers</code> include: <a href="https://CRAN.R-project.org/package=MonteCarlo" class="external-link">MonteCarlo</a>, <a href="https://CRAN.R-project.org/package=parSim" class="external-link">parSim</a>, <a href="https://CRAN.R-project.org/package=simsalapar" class="external-link">simsalapar</a>, <a href="https://CRAN.R-project.org/package=simulator" class="external-link">simulator</a>, <a href="https://CRAN.R-project.org/package=simstudy" class="external-link">simstudy</a>, <a href="https://CRAN.R-project.org/package=simTool" class="external-link">simTool</a>, <a href="https://CRAN.R-project.org/package=simSummary" class="external-link">simSummary</a>, and <a href="https://CRAN.R-project.org/package=ezsim" class="external-link">ezsim</a>.</p>
</div>
</div>
<div id="acknowledgments" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgments" class="anchor" aria-hidden="true"></a>Acknowledgments</h1>
<p>We are grateful for the feedback provided by Danny Gonzalez, <a href="https://sdlim.com/" class="external-link">Sangdon Lim</a>, Man Chen, and <a href="https://github.com/edbonneville" class="external-link">Edouard Bonneville</a>.</p>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor" aria-hidden="true"></a>References</h1>
<p>Bengtsson, H. (2020). future: Unified parallel and distributed processing in r for everyone. Retrieved from <a href="https://CRAN.R-project.org/package=future" class="external-link uri">https://CRAN.R-project.org/package=future</a></p>
<p>Blair, G., Cooper, J., Coppock, A., &amp; Humphreys, M. (2019). Declaring and diagnosing research designs. American Political Science Review, 113(3), 838–859. Retrieved from <a href="https://declaredesign.org/paper.pdf" class="external-link uri">https://declaredesign.org/paper.pdf</a></p>
<p>Chalmers, P. (2019). SimDesign: Structure for organizing Monte Carlo simulation designs. Retrieved from <a href="https://CRAN.R-project.org/package=SimDesign" class="external-link uri">https://CRAN.R-project.org/package=SimDesign</a></p>
<p>Gasparini, A. (2018). rsimsum: Summarise results from Monte Carlo simulation studies. Journal of Open Source Software, 3(26), 739. <a href="https://doi.org/10.21105/joss.00739" class="external-link uri">https://doi.org/10.21105/joss.00739</a></p>
<p>Morris, T. P., White, I. R., &amp; Crowther, M. J. (2019). Using simulation studies to evaluate statistical methods. Statistics in Medicine, 38(11), 2074–2102.</p>
<p>Vaughan, D., &amp; Dancho, M. (2018). furrr: Apply mapping functions in parallel using futures. Retrieved from <a href="https://CRAN.R-project.org/package=furrr" class="external-link uri">https://CRAN.R-project.org/package=furrr</a></p>
<p>Wickham, H., Averick, M., Bryan, J., Chang, W., McGowan, L. D., François, R., … Yutani, H. (2019). Welcome to the tidyverse. Journal of Open Source Software, 4(43), 1686. <a href="https://doi.org/10.21105/joss.01686" class="external-link uri">https://doi.org/10.21105/joss.01686</a></p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=simhelpers">https://​cloud.r-project.org/​package=simhelpers</a>
</li>
<li>Browse source code at <br><a href="https://github.com/meghapsimatrix/simhelpers">https://​github.com/​meghapsimatrix/​simhelpers</a>
</li>
<li>Report a bug at <br><a href="https://github.com/meghapsimatrix/simhelpers/issues">https://​github.com/​meghapsimatrix/​simhelpers/​issues</a>
</li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> </li>
</ul>
</div>


<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://meghapsimatrix.com">Megha Joshi</a> <br><small class="roles"> Author, maintainer </small>  </li>
<li>
<a href="https://www.jepusto.com/">James Pustejovsky</a> <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-0591-9465" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://codecov.io/gh/meghapsimatrix/simhelpers?branch=master" class="external-link"><img src="https://codecov.io/gh/meghapsimatrix/simhelpers/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://cran.r-project.org/package=simhelpers" class="external-link"><img src="https://www.r-pkg.org/badges/version/simhelpers?color=orange" alt="CRAN Status"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://meghapsimatrix.com" class="external-link">Megha Joshi</a>, <a href="https://www.jepusto.com/" class="external-link">James Pustejovsky</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'f4d0d6658ae25a0f79f8db12ee660be0',
    indexName: 'simhelpers',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
